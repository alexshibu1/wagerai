@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 260 100% 4%;
    --foreground: 0 0% 96%;
    --card: 260 100% 4%;
    --card-foreground: 0 0% 96%;
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 96%;
    --secondary: 189 94% 43%;
    --secondary-foreground: 0 0% 4%;
    --muted: 240 6% 10%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 262 83% 58%;
    --accent-foreground: 0 0% 96%;
    --destructive: 351 89% 71%;
    --destructive-foreground: 0 0% 4%;
    --border: 0 0% 100% / 0.1;
    --input: 0 0% 100% / 0.1;
    --ring: 262 83% 58%;
    --radius: 1rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    scroll-behavior: smooth;
  }

  /* Hide scrollbar but keep scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
  }
  
  body {
    background-color: #030014;
    color: #f8fafc;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.02em;
    position: relative;
    min-height: 100vh;
  }
}

@layer utilities {
  /* === BACKGROUND SYSTEM === */
  .bg-obsidian {
    background-color: #030014;
    background-image: 
      radial-gradient(at 50% 0%, rgba(124, 58, 237, 0.15) 0px, transparent 50%),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    background-attachment: fixed;
  }
  
  /* === GLASS CARD === */
  .glass-card {
    @apply bg-slate-950/40 border border-white/10 backdrop-blur-xl shadow-2xl;
  }
  
  .glass-panel {
    @apply bg-cyan-500/[0.03] backdrop-blur-xl border border-cyan-400/20 shadow-2xl;
    box-shadow: 
      0 0 80px -20px rgba(6, 182, 212, 0.3),
      0 25px 50px -12px rgba(0, 0, 0, 0.5);
  }
  
  /* === FLOATING GLASS SIDEBAR === */
  /* WHY: Creates a "floating" effect by using translucent background + blur + subtle glow
     The sidebar feels like frosted glass hovering over the content */
  .floating-glass-sidebar {
    @apply rounded-2xl;
    background: rgba(10, 10, 20, 0.7);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset,
      0 0 80px -20px rgba(124, 58, 237, 0.15);
  }
  
  /* === ACTIVE NAV ITEM WITH GRADIENT GLOW === */
  /* WHY: The gradient border creates visual hierarchy - instantly shows "you are here"
     Using pseudo-element technique for clean gradient borders */
  .nav-item-active {
    position: relative;
    background: rgba(124, 58, 237, 0.1);
    z-index: 0;
  }
  
  .nav-item-active::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 0.75rem; /* matches rounded-xl */
    padding: 1px;
  background: conic-gradient(
    from 140deg,
    #38bdf8 0deg,
    #0ea5e9 70deg,
    #6366f1 150deg,
    #8b5cf6 220deg,
    #38bdf8 320deg,
    #38bdf8 360deg
  );
  box-shadow: 0 0 18px rgba(56, 189, 248, 0.22), 0 0 28px rgba(99, 102, 241, 0.22);
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }
  
  /* Subtle glow effect on active item */
  .nav-item-active::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 0.85rem;
  background: radial-gradient(circle at 25% 25%, rgba(56, 189, 248, 0.22), transparent 45%),
              radial-gradient(circle at 80% 75%, rgba(99, 102, 241, 0.22), transparent 55%);
  filter: blur(12px);
    z-index: -1;
  opacity: 0.7;
  }
  
  /* === TYPOGRAPHY === */
  .text-heading {
    @apply uppercase tracking-widest font-bold;
  }
  
  .text-body {
    @apply tracking-tight;
  }
  
  /* === GRADIENT TEXT === */
  .gradient-text {
    @apply bg-gradient-to-r from-violet-400 via-fuchsia-300 to-cyan-400 bg-clip-text text-transparent;
  }
  
  .gradient-text-subtle {
    @apply bg-gradient-to-br from-white via-white to-zinc-400 bg-clip-text text-transparent;
  }
  
  /* === GLOW EFFECTS === */
  .text-glow {
    text-shadow: 
      0 0 20px rgba(124, 58, 237, 0.5),
      0 0 40px rgba(124, 58, 237, 0.3),
      0 0 60px rgba(124, 58, 237, 0.2);
  }
  
  .text-glow-cyan {
    text-shadow: 
      0 0 20px rgba(6, 182, 212, 0.5),
      0 0 40px rgba(6, 182, 212, 0.3);
  }
  
  .box-glow {
    box-shadow: 
      0 0 30px rgba(124, 58, 237, 0.15),
      0 0 60px rgba(124, 58, 237, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  /* === GRADIENT BORDERS === */
  .gradient-border {
    position: relative;
    background: transparent;
    z-index: 0;
  }
  
  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, #7c3aed 0%, #06b6d4 100%);
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }
  
  /* === ANIMATIONS === */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-float-slow {
    animation: float 8s ease-in-out infinite;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 4s ease-in-out infinite;
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out forwards;
  }
  
  .animate-scale-in {
    animation: scale-in 0.6s ease-out forwards;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-12px);
    }
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 1;
      filter: drop-shadow(0 0 20px rgba(124, 58, 237, 0.4));
    }
    50% {
      opacity: 0.9;
      filter: drop-shadow(0 0 30px rgba(124, 58, 237, 0.6));
    }
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* === LOGO GLOW PULSE === */
  /* WHY: Subtle breathing animation creates "alive" feel without being distracting */
  .animate-logo-glow {
    animation: logo-glow 3s ease-in-out infinite;
  }
  
  @keyframes logo-glow {
    0%, 100% {
      opacity: 0.5;
      filter: blur(12px);
    }
    50% {
      opacity: 0.7;
      filter: blur(16px);
    }
  }
  
  /* === STROKE TEXT (for SVG) === */
  .stroke-text {
    fill: transparent;
    stroke: rgba(255, 255, 255, 0.6);
    stroke-width: 0.5px;
  }
  
  /* === BUTTON STATES === */
  .btn-protocol {
    @apply relative px-8 py-4 rounded-full font-semibold uppercase tracking-widest text-sm;
    @apply transition-all duration-500 ease-out;
    background: transparent;
  }
  
  .btn-protocol::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 9999px;
    padding: 1.5px;
    background: linear-gradient(135deg, #7c3aed 0%, #06b6d4 50%, #7c3aed 100%);
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all 0.5s ease;
  }
  
  .btn-protocol:hover::before {
    background: linear-gradient(135deg, #a78bfa 0%, #22d3ee 50%, #a78bfa 100%);
  }
  
  .btn-protocol:hover {
    background: rgba(124, 58, 237, 0.15);
    box-shadow: 
      0 0 30px rgba(124, 58, 237, 0.3),
      0 0 60px rgba(6, 182, 212, 0.15);
  }
  
  /* === ANIMATION DELAYS === */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
  .delay-600 { animation-delay: 600ms; }
  .delay-700 { animation-delay: 700ms; }
  
  /* === MARQUEE ANIMATION === */
  /* PRINCIPLE: Infinite Scroll with Duplicated Content
     WHY: translateX(-50%) creates seamless loop - when first set exits, duplicate enters
     HOW: 30s linear timing = smooth, consistent speed across all screen sizes */
  .animate-marquee {
    animation: marquee 30s linear infinite;
  }
  
  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }
  
  /* === FILM GRAIN OVERLAY === */
  /* WHY: Grain adds organic texture, reducing the "digital flatness"
     The animation creates subtle movement like analog film grain
     mix-blend-overlay preserves colors while adding texture */
  .grain-overlay {
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: 0.35;
    mix-blend-mode: overlay;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 128px 128px;
  }
  
  /* Animated grain - subtle position shift creates "film" feel */
  .grain-animated {
    animation: grain-shift 0.5s steps(4) infinite;
  }
  
  @keyframes grain-shift {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(-2px, 2px); }
    50% { transform: translate(2px, -2px); }
    75% { transform: translate(-1px, -1px); }
  }
  
  /* === 3D PERSPECTIVE === */
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .rotate-x-12 {
    transform: rotateX(12deg);
  }
  
  .hover\:rotate-x-0:hover {
    transform: rotateX(0deg);
  }
  
  /* === ANIMATED ROTATING BORDER === */
  /* WHY: Conic gradient creates a "scanning beam" effect that rotates around the element
     This creates visual interest without being distracting - feels like energy/activity
     The animation is continuous and smooth (linear timing, infinite loop) */
  .animated-border {
    background: conic-gradient(
      from 0deg,
      transparent 0deg,
      rgba(255, 255, 255, 0.8) 10deg,
      rgba(168, 85, 247, 0.6) 60deg,
      rgba(59, 130, 246, 0.6) 120deg,
      transparent 180deg,
      rgba(6, 182, 212, 0.6) 240deg,
      rgba(249, 115, 22, 0.5) 300deg,
      transparent 360deg
    );
    animation: rotate-border 4s linear infinite;
  }
  
  @keyframes rotate-border {
    from {
      transform: translate(-50%, -50%) rotate(0deg);
    }
    to {
      transform: translate(-50%, -50%) rotate(360deg);
    }
  }
  
  /* === RANK GLOW PULSE === */
  /* WHY: Subtle breathing on the rank makes it feel "alive" and important */
  .rank-glow {
    animation: rank-pulse 2s ease-in-out infinite;
  }
  
  @keyframes rank-pulse {
    0%, 100% {
      filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.5));
    }
    50% {
      filter: drop-shadow(0 0 30px rgba(251, 191, 36, 0.7));
    }
  }
  
  /* === SIDEBAR GLOW LEFT BORDER === */
  /* WHY: Glowing left border on active nav items creates clear visual hierarchy
     Using gradient + blur creates soft, premium glow effect */
  .sidebar-nav-active {
    position: relative;
    background: rgba(124, 58, 237, 0.08);
  }
  
  .sidebar-nav-active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 4px;
    bottom: 4px;
    width: 3px;
    border-radius: 0 2px 2px 0;
    background: linear-gradient(180deg, #2563eb 0%, #7c3aed 50%, #06b6d4 100%);
    box-shadow: 
      0 0 10px rgba(37, 99, 235, 0.6),
      0 0 20px rgba(124, 58, 237, 0.4),
      0 0 30px rgba(6, 182, 212, 0.3);
  }
}
